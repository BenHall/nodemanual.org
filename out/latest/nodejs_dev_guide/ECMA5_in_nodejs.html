<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Node.js Manual | Using ECMA5 in Node.js</title><meta name="generator" content="c9-doc-build"><meta name="description" content="A collection of Node.js tutorials"><meta name="author" content="Garen J. Torikian"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="../resources/csses/bootstrap.css"><link rel="stylesheet" href="../resources/csses/prettify.css"><link rel="stylesheet" href="../resources/csses/refguide_overrides.css"><link rel="stylesheet" href="../resources/csses/devguide_overrides.css"><script src="../resources/javascripts/jquery.js"></script><script src="../resources/javascripts/clicker.js"></script><script src="../resources/javascripts/jquery.collapse.js"></script><script src="../resources/javascripts/jquery.cookie.js"></script><script src="../resources/javascripts/bootstrap-dropdown.js"></script><body onload="styleCode()"><div class="topbar"><div class="fill"><div id="topSection" class="container"><ul class="nav"><li data-dropdown="dropdown" class="dropdown"><a href="/" class="dropdown-toggle brand"><!--div(class="arrow-down")--></a><ul class="dropdown-menu"><li><a href="http://www.nodebits.org/">Nodebits</a></li></ul></li></ul><ul class="nav"><li id="node_js_ref"><a href="./../nodejs_ref_guide/index.html">Node.js Reference</a></li><li id="nodejs_dev_guide"><a href="./../nodejs_dev_guide/index.html">Node.js Manual</a></li><li id="js_doc"><a href="./../js_doc/index.html">Javascript Reference</a></li></ul><form id="searchbox" action="" class="pull-right"><input name="query" type="text" placeholder="Search Documentation" title="Search across all the documentation types" class="span3"></form></div></div></div><header id="overview" class="jumbotron masthead"><div class="inner"><div class="container"><h1>Node.js Manual</h1><p class="lead"></p></div></div></header><div class="container"><div class="content"><div class="row container"><div class="span5 offset4 sidebarContainer"><div id="sidebar"><div id="well"><h2>Node.js Manual</h2><h3>Basic Overview</h3><ul class="menu"><li><div class="menu-item"><a href="writing_asynchronous_code.html" class="menuLink">Writing Asynchronous Code   </a></div></li><li><div class="menu-item"><a href="working_with_callbacks.html" class="menuLink">Working with Callbacks</a></div></li><li><div class="menu-item"><a href="understanding_event_emitters.html" class="menuLink">Understanding Event Emitters</a></div></li><li><div class="menu-item"><span class="menuHeader"><a href="npm.html" class="menuLink">The Node Package Manager</a></span></div><ul class="menuTwo"><li><div class="menu-item"><a href="core_libs_vs_user_libs.html" class="menuLink">Core Libraries versus User-Submitted Modules </a></div></li></ul></li></ul><h3>Tutorials</h3><ul class="menu"><li><div class="menu-item"><a href="implementing_logging.html" class="menuLink">Implementing Logging Messages</a></div></li><li><div class="menu-item"><span class="menuHeader"><a href="using_closures.html" class="menuLink">Using Closures</a></span></div><ul class="menuTwo"><li><div class="menu-item"><a href="closures_for_events_and_callbacks.html" class="menuLink">Closures for Events and Callbacks</a></div></li></ul></li><li><div class="menu-item"><a href="reading_and_writing_files.html" class="menuLink">Reading and Writing to Files</a></div></li><li><div class="menu-item"><span class="menuHeader"><a href="http_servers_and_clients.html" class="menuLink">HTTP Servers and Clients</a></span></div><ul class="menuTwo"><li><div class="menu-item"><a href="creating_an_http_server.html" class="menuLink">Creating an HTTP Server</a></div></li><li><div class="menu-item"><a href="serving_files.html" class="menuLink">Serving Files   </a></div></li><li><div class="menu-item"><a href="creating_http_requests.html" class="menuLink">Creating HTTP GET and POST Requests                                 </a></div></li><li><div class="menu-item"><a href="deciphering_query_strings.html" class="menuLink">Deciphering Query Strings</a></div></li></ul></li><li><div class="menu-item"><span class="menuHeader"><a href="buffers_and_streams.html" class="menuLink">Buffers and Streams</a></span></div><ul class="menuTwo"><li><div class="menu-item"><a href="manipulating_buffers.html" class="menuLink">Manipulating Buffers   </a></div></li><li><div class="menu-item"><a href="understanding_streams.html" class="menuLink">Understanding Streams  </a></div></li></ul></li></ul><h3>Additional Reference</h3><ul class="menu"><li><div class="menu-item"><a href="ECMA5_in_nodejs.html" class="menuLink">Using ECMA5 Javascript in Node.js</a></div></li></ul></div></div></div><div class="span11"><span class="editInC9"><a href="#" title="Edit in Cloud9 IDE">[edit]</a></span><div id="content" class="dev_guide"><div class='title'>

<h1 class='pageTitle'>Using ECMA5 in Node.js</h1>
<span class="cite">by <a href="https://github.com/joyent/node/wiki/ECMA-5-Mozilla-Features-Implemented-in-V8">Node.js Community Wiki</a></span>

</div>



<p>When developing for a browser, there are many built-in Javascript functions that we can&apos;t use because certain browsers don&apos;t implement them.  As a result, most developers never use them.  In Node.js, however, we can assume that everyone has the same Javascript implementation (since it&apos;s always running on <a href="http://code.google.com/p/v8/">the V8 engine</a>). As such, we can use these wonderful functions and not implement them over and over in our own libraries.

</p>
<p>The following is a list of some interesting API functions that aren&apos;t considered safe to use in a web setting, but are built into Node&apos;s V8 engine. Note that V8 implements all of the ECMA 3rd Edition, and some parts of the new <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">ECMA 5th Edition</a>. You can see a list of all the supported features from <a href="https://github.com/joyent/node/wiki/ECMA-5-Mozilla-Features-Implemented-in-V8">this gist</a>.

</p>
<h4>Syntax Extensions</h4>
<ul><li>You can use a new getter and setter syntax, similar to many other languages. </li></ul>
<p>Here&apos;s an example:

</p>
<pre><code>var speak = {
_name: &apos;Stranger&apos;,
    get name() { // getter
        return this._name + &apos;!&apos;;
    },
    set name(n) { // setter
        this._name = n.trim();
    }
};

console.log(&quot;Hello, &quot; + speak.name);
speak.name = &apos; John &apos;;
console.log(&quot;Hello, &quot; + speak.name);</code></pre>
<h4>Array</h4>
<ul><li><code>Array.isArray(array)</code>: Returns <code>true</code> if the passed argument is an array. </li></ul>
<h4>Array.prototype</h4>
<ul><li><code>indexOf(value)</code>: Returns the first (least) index of an element within the array equal to the specified value, or -1 if none is found.</li><li><code>lastIndexOf(value)</code>: Returns the last (greatest) index of an element within the array equal to the specified value, or -1 if none is found.</li><li><code>filter(callback)</code>: Creates a new array with all of the elements of this array for which the provided filtering function returns <code>true</code>. For example: </li></ul>
<pre>
    var myArray = ([1, 2, 3, 4]).filter(function(x) {
                        return x &gt; 2;
                    });
    // myArray is now [3, 4]
</pre>


<ul><li><code>forEach(callback)</code>: Calls a function for each element in the array.</li><li><code>every(callback)</code>: Returns <code>true</code> if every element in this array satisfies the provided testing function. For example: </li></ul>
<pre>
    ([-1, 0, 1, 2, 3]).every(function(x) {
      return x &gt; 0;
    });
    // false, since -1 and 0 are not greater than 0.
</pre>


<ul><li><p><code>some(callback)</code>: Returns <code>true</code> if at least one element in this array satisfies the provided testing function.</p></li><li><p><code>map(callback)</code>: Creates a new array with the results of calling a provided function on every element in this array. For example:</p> </li></ul>
<pre>
    var myArray = ([1, 2, 3]).map(function(x) {
        return x * 2;
    });
    // myArray is now [2, 4, 6]
</pre>


<ul><li><code>reduce(callback[, initialValue])</code>: Apply a function simultaneously against two values of the array (from left-to-right), reducing it to a single value. For example: </li></ul>
<pre>
    var myString = ([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;]).reduce(function(x, y) {
      return x + y;
    });
    // myString is now &apos;abcd&apos;
</pre>


<p>If the <code>initialValue</code> parameter is provided, it is the very first parameter called by the function. For example:

</p>
<pre>
    var myString = ([&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;]).reduce(function(x, y) {
      return x + y;
    }, &apos;<em>&apos;);
    // myString is now &apos;</em>abcd&apos;
</pre>


<ul><li><code>reduceRight(callback[, initialValue])</code>: Apply a function simultaneously against two values of the array (from right-to-left), reducing it to a single value. </li></ul>
<h4>Date</h4>
<ul><li><code>Date.now()</code>: Returns the numeric value corresponding to the current date. For example: <code>1320952608012</code>. </li></ul>
<h4>Date.prototype</h4>
<ul><li><code>Date.toISOString()</code>: Returns the value of the current date in the <a href="http://en.wikipedia.org/wiki/ISO_8601#Times">ISO standard</a>. For example: <code>2011-11-10T19:16:48.011Z</code>. </li></ul>
<h4>Object</h4>
<ul><li><code>Object.create(proto, props)</code>: Creates a new object whose prototype is the passed in parent object and whose properties are those specified by <code>props</code>. For example: </li></ul>
<pre>
    var obj = Object.create(x: 10, y: 20);
    // obj.x = 10; obj.y = 20
</pre>


<ul><li><code>Object.keys(obj)</code>: Returns a list of the ownProperties of an object that are enumerable. For example:  </li></ul>
<pre>
     function o() {
      this.a = 1;
    }
    console.log(Object.keys(new o())); // [ &apos;a&apos; ]
    function p() {
      this.b = 2;
    }

    var obj = Object.create({a: 10, b: 20}, {
      x: {
        value: 30,
        enumerable: true
      },
      y: {
        value: 40,
        enumerable: false
      }
    });
    console.log(Object.keys(obj)); // [ &apos;x&apos; ]
</pre>


<ul><li><p><code>Object.getOwnPropertyNames(obj)</code>: Returns a list of the ownProperties of an object including ones that are not enumerable.</p></li><li><p><code>Object.getPrototypeOf(obj)</code>: Returns the prototype of an object. For example: </p> </li></ul>
<pre>
     var obj = Object.create({a: 10, b: 20}, {
      x: {
        value: 30,
        enumerable: true
      },
      y: {
        value: 40,
        enumerable: false
      }
    });
    console.log(Object.getPrototypeOf(obj)); // { a: 10, b: 20 }
</pre>


<ul><li><code>Object.getOwnPropertyDescriptor(obj, property)</code>: Returns an object with keys describing the description of a property (value, writable, enumerable, configurable). For example: </li></ul>
<pre>
    var obj = Object.create({a: 10, b: 20}, {
      x: {
        value: 30,
        enumerable: true
      },
      y: {
        value: 40,
        enumerable: false
      }
    });
    console.log(Object.getOwnPropertyDescriptor(obj, &apos;x&apos;));
    // { value: 30,
    //   writable: false,
    //   enumerable: true,
    //   configurable: false }
</pre>


<ul><li><code>Object.defineProperty(obj, prop, desc)</code>: Defines a property on an object with the given descriptor. For example: </li></ul>
<pre>
    var obj = {};
    Object.defineProperty(obj, &apos;num&apos;, {
      value: 10,
      writable: false,
      enumerable: false,
      configurable: false
    });
    log(obj.num); // 10
    for (var i in obj) {
      log(i); // not display
    }
    obj.num = 20;
    log(obj.num); // still 10
</pre>


<ul><li><code>Object.defineProperties(obj, props)</code>: Adds own properties, and/or updates the attributes of existing own properties of an object. For example: </li></ul>
<pre>
    var obj = {};
    Object.defineProperties(obj, {
      num: {
        value: 4,
        writable: false,
        enumerable: false,
        configurable: false
      },
      root: {
        get: function() {
          return Math.pow(this.num, 0.5);
        }
      }
    });
    log(obj.num); // 4
    log(obj.root); // 2
</pre>


<ul><li><code>Object.preventExtensions(obj)</code>: Prevents any new properties from being added to the given <code>obj</code> object.</li><li><code>Object.isExtensible(obj)</code>: Returns <code>true</code> if properties can still be added, <code>false</code> otherwise (in other words, <code>false</code> if Object.preventExtensions() was called).</li><li><code>Object.seal(obj)</code>: Prevents code from adding or deleting properties, or changing the descriptors of any property on an object. However, property values can still change.</li><li><code>Object.isSealed(obj)</code>: Returns <code>true</code> if <code>Object.seal</code> was called on this object.</li><li><code>Object.freeze(obj)</code>: This is the same as <code>Object.seal()</code>, except property values can&apos;t be changed.</li><li><code>Object.isFrozen(obj)</code>: Returns <code>true</code> if <code>Object.freeze()</code> was called on this object. </li></ul>
<h4>Object.prototype</h4>
<ul><li><code>__defineGetter__(name, callback)</code>: Associates a function with a property that, when accessed, executes that function and returns its return value. This functions is a Mozilla extension and is not in ECMAScript 5.</li><li><code>__lookupGetter__(name)</code>: Returns the function associated with the specified property by the <strong>defineGetter</strong> method. This functions is a Mozilla extension and is not in ECMAScript 5.</li><li><code>__defineSetter__(name, callback)</code>: Associates a function with a property that, when set, executes that function which modifies the property. This functions is a Mozilla extension and is not in ECMAScript 5.</li><li><code>__lookupSetter__(name)</code>: Returns the function associated with the specified property by the <strong>defineSetter</strong> method. This functions is a Mozilla extension and is not in ECMAScript 5.</li><li><code>isPrototypeOf(obj)</code> - (Available in ECMAScript 3 and 5) Returns true if <code>this</code> is a prototype of the passed in object. For example: </li></ul>
<pre>
    var proto = {a: 10, b: 20};
    var obj = Object.create(proto);
    console.log(proto.isPrototypeOf(obj)); // true
</pre>


<h4>Function.prototype</h4>
<ul><li><code>bind(thisArg[, arg1[, arg2, arg3...]])</code> - Sets the value of <code>this</code> inside the function to always be the value of <code>thisArg</code> when the function is called. Optionally, function arguments can also be specified (arg1, arg2, e.t.c.) that will automatically be prepended to the argument list whenever this function is called. For example: </li></ul>
<pre>
    var f = function() {return this.a + this.b };
    console.log(f()); // NaN
    var g = f.bind({ a: 10, b: 20 });
    console.log(g()); // 30

    var f = function(c) {
        return this.a + this.b + c;
    };
    log(f()); // NaN
    var g = f.bind({ a: 10, b: 20 }, 30);
    console.log(g()); // 60

    var f = function(c, d) {
        return this.a + this.b + c + d;
    };
    log(f()); // NaN
    var g = f.bind({ a: 10, b: 20 }, 30);
    console.log(g(40)); // 100
</pre>


<h4>String.prototype</h4>
<ul><li><code>trim()</code>: Trims all whitespace from both ends of the string</li><li><code>trimRight()</code>: Trims all whitespace from the right side of the string</li><li><code>trimLeft()</code>: Trims all whitespace from the left side of the string </li></ul>
<h4>Default Property Descriptors</h4>
<ul><li><code>value</code>: undefined</li><li><code>get</code>: undefined</li><li><code>set</code>: undefined</li><li><code>writable</code>: <code>false</code></li><li><code>enumerable</code>: <code>false</code></li><li><code>configurable</code>: <code>false</code> </li></ul>
<h4>Features Not Implemented</h4>
<ul><li><code>Object.__noSuchMethod__</code>: (This is a Mozilla extension, not ECMAScript 5)</li><li><code>&quot;use strict&quot;;</code>:  This syntax extension is a <a href="http://code.google.com/p/v8/issues/detail?id=919">v8 issue</a></li></ul></div><div id="disqus_thread"></div></div></div></div><footer id="footer"><div class="container"><div class="footer-text">Thanks to these content providers | &#169; 2012:</div><div class="sponsors"><a href="http://c9.io/" title="cloud9 ide" target="_blank" class="c9-logo sponsor"></a><a href="http://www.joyent.com/" title="joyent" target="_blank" class="joyent-logo sponsor"></a><a href="http://www.mozilla.org/" title="mozilla" target="_blank" class="mozilla-logo sponsor"></a></div></div></footer></div><!-- scripts concatenated and minified via ant build script--><script defer src="./../resources/javascripts/plugins.js"></script>
<script defer src="./../resources/javascripts/prettify.js"></script>
<script defer src="./../resources/javascripts/prettify-extension.js"></script>
<script defer src="./../resources/javascripts/script.js"></script>
<script defer src="./../resources/javascripts/disqus-ext.js"></script>
<!-- end scripts--><!--[if lt IE 7]><script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script><script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})
</script><![endif]--></body></html>
