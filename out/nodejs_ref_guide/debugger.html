<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Node.js Reference Guide</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/sh.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
      }
    </style>
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
  <script src="../js/toc.js"></script>
    <script type="text/javascript">
    $(document).ready(function() {
        //$("#toc").accordion({ event: 'mouseover' }, { autoHeight: false });
    });
    </script>
    <link href="../css/style_override.css" rel="stylesheet">
  </head>

  <body>
    <!--
        <div class="topbar">
          <div class="topbar-inner">
            <div class="container-fluid">
              <a class="brand" href="#">Project name</a>
              <ul class="nav">
                <li class="active"><a href="#">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
              </ul>
              <p class="pull-right">Logged in as <a href="#">username</a></p>
            </div>
          </div>
        </div>
    -->

    <div class="container-fluid">
      <div class="sidebar">
        <div id="toc" class="well">
        <h5>Node.js Reference Guide</h5>
<div>
<ul>
<li><a class="upper" href="globals.html">Global Objects</a></li>
<li><a class="upper" href="stdio.html">Printing to Console</a></li>
<li><a class="upper" href="timers.html">Timers</a></li>
<li><a class="upper" href="modules.html">Modules</a></li>
<li><a class="upper" href="addons.html">Addons</a></li>
<li><a class="upper" href="process.html">process</a></li>
<li><a class="upper" href="util.html">util</a></li>
<li><a class="upper" href="events.html">Events</a></li>
<li><a class="upper" href="buffers.html">Buffers</a></li>
<li><a class="upper" href="streams.html">Streams</a></li>
<li><a class="upper" href="crypto.html">Cryptography and OpenSSL</a></li>
<li><a class="upper" href="tls.html">Implementing TLS & SSL</a></li>
<li><a class="upper" href="fs.html">Working with the File System</a></li>
<li><a class="upper" href="net.html">net</a></li>
<li><a class="upper" href="dgram.html">UDP and Datagram Sockets</a></li>
<li><a class="upper" href="dns.html">DNS</a></li>
<li><a class="upper" href="http.html">HTTP</a></li>
<li><a class="upper" href="https.html">HTTPS</a></li>
<li><a class="upper" href="url.html">URL</a></li>
<li><a class="upper" href="querystring.html">Query String</a></li>
<li><a class="upper" href="readline.html">Readline</a></li>
<li><a class="upper" href="repl.html">REPL</a></li>
<li><a class="upper" href="vm.html">Executing JavaScript</a></li>
<li><a class="upper" href="child_processes.html">Child Processes</a></li>
<li><a class="upper" href="assert.html">Assert</a></li>
<li><a class="upper" href="tty.html">TTY</a></li>
<li><a class="upper" href="zlib.html">Zipping with zlib</a></li>
<li><a class="upper" href="os.html">Accessing the OS</a></li>
<li><a class="upper" href="debugger.html">Debugging Node.js</a></li>
<li><a class="upper" href="cluster.html">Clusters</a></li>
<li><a class="upper" href="appendix_1.html">A1: Third Party Modules</a></li>
</ul></div>
</div>
</div>
<div class="content"><p><div class="hero-unit"></p>

<p><a class="hiddenLink" id="debugging-nodejs"></a></p>

<h2>Debugging Node.js</h2>

<p>V8 comes with an extensive debugger which is accessible out-of-process via a simple <a href="http://code.google.com/p/v8/wiki/DebuggerProtocol">TCP protocol</a>.</p>

<p>Node.js has a built-in client for this debugger. To use this, start Node.js with the <code>debug</code> argument; a prompt appears, ready to take your command:</p>

<pre><code>% node debug myscript.js
&lt; debugger listening on port 5858
connecting... ok
break in /home/indutny/Code/git/indutny/myscript.js:1
  1 x = 5;
  2 setTimeout(function () {
  3   debugger;
debug&gt;
</code></pre>

<p>Node's debugger client doesn't support the full range of commands, but simple step and inspection is possible. By putting the statement <code>debugger;</code> into the source code of your script, you will enable a breakpoint.</p>

<p>For example, suppose <code>myscript.js</code> looked like this:</p>

<pre><code>// myscript.js
x = 5;
setTimeout(function () {
  debugger;
  console.log("world");
}, 1000);
console.log("hello");
</code></pre>

<p>Then once the debugger is run, it will break on line 4.</p>

<pre><code>% node debug myscript.js
&lt; debugger listening on port 5858
connecting... ok
break in /home/indutny/Code/git/indutny/myscript.js:1
  1 x = 5;
  2 setTimeout(function () {
  3   debugger;
debug&gt; cont
&lt; hello
break in /home/indutny/Code/git/indutny/myscript.js:3
  1 x = 5;
  2 setTimeout(function () {
  3   debugger;
  4   console.log("world");
  5 }, 1000);
debug&gt; next
break in /home/indutny/Code/git/indutny/myscript.js:4
  2 setTimeout(function () {
  3   debugger;
  4   console.log("world");
  5 }, 1000);
  6 console.log("hello");
debug&gt; repl
Press Ctrl + C to leave debug repl
&gt; x
5
&gt; 2+2
4
debug&gt; next
&lt; world
break in /home/indutny/Code/git/indutny/myscript.js:5
  3   debugger;
  4   console.log("world");
  5 }, 1000);
  6 console.log("hello");
  7
debug&gt; quit
%
</code></pre>

<p>The <code>repl</code> command allows you to evaluate code remotely. The <code>next</code> command steps over to the next line. There are a few other commands available and more to come. Type <code>help</code> to see others.</p>

<h3>Watchers</h3>

<p>You can watch expressions and variable values while debugging your code.</p>

<p>On every breakpoint each expression from the watchers list will be evaluated in the current context and displayed just before the breakpoint's source code listing.</p>

<p>To start watching an expression, type <code>watch("my_expression")</code>. <code>watchers</code> prints the active watchers. To remove a watcher, type <code>unwatch("my_expression")</code>.</p>

<h3>Commands Reference</h3>

<h4>Stepping</h4>

<ul>
<li><code>cont</code>, <code>c</code>: Continue</li>
<li><code>next</code>, <code>n</code>: Step next</li>
<li><code>step</code>, <code>s</code>: Step in</li>
<li><code>out</code>, <code>o</code>: Step out</li>
</ul>

<h4>Breakpoints</h4>

<ul>
<li><code>setBreakpoint()</code>, <code>sb()</code>: Sets a breakpoint on the current line</li>
<li><code>setBreakpoint('fn()')</code>, <code>sb(...)</code>: Sets a breakpoint on the first statement in the function's body</li>
<li><code>setBreakpoint('script.js', 1)</code>, <code>sb(...)</code>: Sets a  breakpoint on the first line of <code>script.js</code></li>
<li><code>clearBreakpoint</code>, <code>cb(...)</code>: Clears a breakpoint</li>
</ul>

<h4>Info</h4>

<ul>
<li><code>backtrace</code>, <code>bt</code>: Prints a backtrace of the current execution frame</li>
<li><code>list(c)</code>: Lists the script's source code with a five line context (five lines before and after)</li>
<li><code>watch(expr)</code>: Adds an expression to the watch list</li>
<li><code>unwatch(expr)</code>: Removes am expression from the watch list</li>
<li><code>watchers</code>: Lists all the watchers and their values (automatically listed on each breakpoint)</li>
<li><code>repl</code>: Open the debugger's REPL for evaluation in debugging a script's context</li>
</ul>

<h4>Execution control</h4>

<ul>
<li><code>run</code>: Run a script (automatically runs on debugger's start)</li>
<li><code>restart</code>: Restart a script</li>
<li><code>kill</code>: Kill a script</li>
</ul>

<h4>Various</h4>

<ul>
<li><code>scripts</code>: List all the loaded scripts</li>
<li><code>version</code>: Display the V8 version</li>
</ul>

<h3>Advanced Usage</h3>

<p>The V8 debugger can be enabled and accessed either by starting Node.js with the <code>--debug</code> command-line flag or by signaling an existing Node.js process with <code>SIGUSR1</code>.</p>

<p></div></p></div>
</div>
<footer>
    <p>&nbsp;</p>
</footer>
        
<script type="text/javascript" src="../js/sh_main.js"></script>
<script type="text/javascript" src="../js/sh_javascript.min.js"></script>
</div>
    </div>

  </body>
</html>